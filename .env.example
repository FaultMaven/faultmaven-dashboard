# FaultMaven Dashboard - Environment Configuration
# Copy this file to .env.local and customize for your environment

# ============================================================================
# API Configuration
# ============================================================================

# Backend API endpoint
#
# DYNAMIC BEHAVIOR (Default - Recommended):
# ------------------------------------------
# When VITE_API_URL is NOT set, the dashboard automatically detects the API URL
# based on the browser's current hostname. This enables seamless development
# from localhost, local network IPs (e.g., phone/tablet), and production domains.
#
# The API is assumed to run on the same hostname at port 8000:
#   - http://localhost:5173       → API at http://localhost:8000
#   - http://192.168.0.200:5173   → API at http://192.168.0.200:8000
#   - http://10.0.1.50:5173       → API at http://10.0.1.50:8000
#
# MANUAL OVERRIDE (Optional):
# ----------------------------
# Set VITE_API_URL to override automatic detection for special cases:
#   - Production with different domain: https://api.faultmaven.ai
#   - Custom port mapping:             http://localhost:8080
#   - Cloud deployment:                https://your-api.cloud.com
#
# Examples:
#   - Local Development (auto):        (leave commented/unset)
#   - Docker Compose:                  http://localhost:8000
#   - Production:                      https://api.faultmaven.ai
#
# Port Guide:
#   - 8000: Monolithic faultmaven API (recommended - current architecture)
#   - 8090: Legacy microservices API Gateway (deprecated, no longer used)
#
# Leave commented for automatic detection (recommended for development):
# VITE_API_URL=http://localhost:8000

# ============================================================================
# Upload Limits
# ============================================================================

# Maximum file upload size in megabytes
# - Self-hosted default: 10 MB
# - Enterprise default: 50 MB
#VITE_MAX_FILE_SIZE_MB=10

# ============================================================================
# How to Use These Variables
# ============================================================================
#
# 1. For local development (RECOMMENDED - uses automatic detection):
#    - Copy this file: cp .env.example .env
#    - Leave VITE_API_URL commented out (automatic detection enabled)
#    - Start backend: cd ../faultmaven && ./faultmaven.sh start
#    - Start dashboard: npm run dev
#    - Access from:
#      * Same machine: http://localhost:5173
#      * Phone/tablet:  http://192.168.x.x:5173 (your machine's local IP)
#
# 2. For local development (manual override):
#    - Copy this file: cp .env.example .env
#    - Set VITE_API_URL=http://<YOUR_SERVER_IP>:8000
#    - Example: VITE_API_URL=http://192.168.0.200:8000
#    - Start dev server: npm run dev
#    - Note: Backend CORS must allow your client IP (automatic in development)
#
# 3. For Docker deployment (managed by docker-compose):
#    - The docker-compose.yml uses internal service name
#    - Build arg: VITE_API_URL=http://api:8000
#    - No manual configuration needed!
#
# 4. For manual production builds:
#    - Set before build: export VITE_API_URL=https://api.faultmaven.ai
#    - Build: npm run build
#
# IMPORTANT: VITE_* variables behavior:
# - Development mode: Variables can be changed, requires dev server restart
# - Production builds: Variables are baked in at BUILD TIME
# - Docker deployments: Rebuild container if changing VITE_API_URL
# - Automatic detection: Works at RUNTIME (no rebuild needed)
